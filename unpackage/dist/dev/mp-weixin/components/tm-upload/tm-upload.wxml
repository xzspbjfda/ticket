<view class="tm-upload-bd"><view class="tm-upload-files"><block wx:for="{{upload_before_list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="{{['tm-upload-file',item.upload_percent<100?'tm-upload-file-status':'']}}" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}"><block wx:if="{{type==='image'}}"><image class="tm-upload-img" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" src="{{item.path}}" mode="aspectFill" data-event-opts="{{[['tap',[['preview',[index]]]]]}}" bindtap="__e"></image></block><block wx:if="{{type==='video'}}"><video class="vue-ref-in-for" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" id="{{'myVideo_'+index}}" src="{{item.path}}" data-index="{{index}}" controls="{{true}}" enable-play-gesture="{{true}}" objectFit="contain" data-ref="{{'myVideo_'+index}}" data-event-opts="{{[['play',[['videoPlay',['$event']]]],['ended',[['videoEnded',['$event']]]],['error',[['videoError',['$event']]]]]}}" bindplay="__e" bindended="__e" binderror="__e"></video></block><view data-event-opts="{{[['tap',[['remove',[index]]]]]}}" hidden="{{!(upimg_move)}}" class="tm-img-removeicon right" catchtap="__e">x</view><block wx:if="{{item.upload_percent<100}}"><view class="tm-loader-filecontent">{{item.upload_percent+"%"}}</view></block></view></block></block><view hidden="{{!(listLength<upload_count)}}" class="tm-upload-inputbox" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" hover-class="tm-upload-hover" data-event-opts="{{[['tap',[['choose',['$event']]]]]}}" bindtap="__e"><view style="{{('line-height:'+upload_img_wh+'rpx;')}}"><view class="iconfont iconxiangji _i" style="color:#666;"></view></view></view></view></view>